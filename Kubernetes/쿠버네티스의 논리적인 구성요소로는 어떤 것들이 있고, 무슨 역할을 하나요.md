## **쿠버네티스의 논리적인 구성요소로는 어떤 것들이 있고, 무슨 역할을 하나요?**

쿠버네티스는 노드 클러스터 전체에서 애플리케이션 컨테이너의 배포, 확장 및 운영을 관리하는 오픈 소스 컨테이너 오케스트레이션 플랫폼입니다. 마스터 노드와 워커 노드로 나뉘는데, 마스터 노드에는 API 서버, ETCD, 컨트롤러 매니저, 스케줄러가 있고, 워커 노드에는 kubelet, 컨테이너 런타임, kube-proxy 가 있습니다. 

### **Master Nodes : Manage, Plan, Schedule, Monitor Nodes**

- **API Server** : 쿠버네티스 클러스터의 중앙 제어 지점으로, 클러스터 내에서 모든 작업을 오케스트레이션 합니다.
- **ETCD** : Pods, 서비스 및 배포 같은 모든 쿠버네티스 개체의 상태를 포함해 클러스터 구성 데이터를 키-값 형식으로 저장하는 데이터베이스
- **Controller Manager** : 원하는 클러스터 상태를 유지 관리하는 다양한 컨트롤러가 포함됩니다. 
    - Node Controller : 새 노드를 클러스터에 온보딩하고 노드가 사용 불가능하거나 파괴되는 상황을 처리
    - Replication Controller : 원하는 컨테이너 수가 복제 그룹에서 항상 실행되도록 보장
- **Scheduler** : 노드의 응용 프로그램이나 컨테이너 스케줄을 짜는 역할을 하며, 최적의 리소스 활용과 고가용성을 보장하기 위해 리소스 요구 사항, 제약 조건 및 기타 정책을 기반으로 Pods를 노드에 배치합니다. 

### **Worker Nodes : Host Application as Containers**

- **Kubelet** : 클러스터의 각 노드에서 실행되는 기본 에이전트. API 서버와 통신하고 노드의 컨테이너를 관리하여 원하는 상태를 유지하도록 합니다. API Server의 지시를 듣고 필요한대로 노드에서 컨테이너를 배포하거나 파괴하며, Kube Proxy를 관리하여 클러스터 내부의 서비스 간 통신을 가능하게 한다.
- **Container Runtime** : 각 노드에서 컨테이너 실행을 담당합니다. (ex. Docker)
- **Kube-Proxy** : 워커 노드에 필요한 규칙이 시행되도록 하며, 서비스의 Pods 간에 로드 밸런싱을 수행합니다. 서비스에 대한 네트워크 라우팅을 관리합니다. 

<br>

---
### **추가 질문**


- **1. 컨테이너 오케스트레이션이 필요한 이유는 무엇인가요?**  

    A. 클러스터 내에서 컨테이너화 된 애플리케이션의 배포, 확장 및 운영을 관리, 조정 및 자동화 하는 프로세스를 의미합니다. 쿠버네티스는 컨테이너화 된 애플리케이션과 관련된 다양한 작업을 처리하는 오케스트레이션 플랫폼 역할을 하므로, 개발자와 관리자는 기본 인프라에 대해 걱정하는 대신 애플리케이션의 원하는 상태를 정의하는 데 집중할 수 있습니다. 
    

- **2. API 서버는 워커 노드의 kubelet과 어떻게 통신하나요?**  

    A. API 서버는 HTTPS를 사용하여 쿠버네티스 API를 통해 kubelet과 통신합니다. kubelet은 API 서버가 노드의 상태와 노드에서 실행 중인 컨테이너에 대한 업데이트를 보내고 수신하는 API 엔드포인트를 노출합니다. 

    - **2-1. API 서버와 kubelet 간의 통신을 보호하기 위한 보안 조치가 있나요?**  

        A. TLS(전송 계층 보안) 암호화를 이용해 API 서버와 kubelet 간에 교환되는 데이터가 암호화되고 안전하도록 보장하여 전송 중 무단 액세스 또는 변조로부터 데이터를 보호합니다. 


- **3. ETCD 데이터베이스를 사용할 수 없게 되면 어떻게 됩니까?**  

    A. ETCD 데이터베이스를 사용할 수 없게 되면 전체 쿠버네티스 컨트롤 플레인이 영향을 받습니다. ETCD는 클러스터의 구성 데이터 및 상태를 저장하므로 확장, 배포 및 모니터링 같은 중요한 작업이 영향을 받을 수 있습니다. 클러스터의 탄력성을 보장하기 위해 ETCD의 가용성을 유지하고 적절한 백업 및 복구 전략을 설정하는 것이 중요합니다. 

    - **3-1. Kubernetes는 ETCD 데이터 백업 및 재해 복구를 어떻게 처리하나요?**  

        A. 자동화된 도구와 예약된 백업 프로세스를 사용해 자동화된 스크립트를 설정하거나 ETCD 데이터의 정기적인 스냅샷을 생성할 수 있습니다. 재해 복구는 최신 백업을 ETCD 클러스터로 복원하는 작업이 있습니다. 복구 절차가 실제 시나리오에서 효과적으로 작동하는 지 확인하려면 이 프로세스를 잘 문서화하고 정기적으로 테스트해야 합니다. 이러한 전략을 통해 데이터 복원력과 무결성을 유지할 수 있습니다. 